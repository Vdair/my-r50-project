<!DOCTYPE html>
<html>
<head>
  <title>ç¯å¢ƒå˜é‡æ£€æŸ¥</title>
  <style>
    body {
      font-family: monospace;
      padding: 20px;
      background: #1a1a1a;
      color: #fff;
    }
    .section {
      margin: 20px 0;
      padding: 15px;
      background: #2a2a2a;
      border-radius: 8px;
    }
    .success { color: #4ade80; }
    .error { color: #f87171; }
    .warning { color: #fbbf24; }
  </style>
</head>
<body>
  <h1>ğŸ” ç¯å¢ƒå˜é‡æ£€æŸ¥</h1>
  
  <div class="section">
    <h2>1. import.meta.env å¯¹è±¡</h2>
    <pre id="import-meta-env"></pre>
  </div>
  
  <div class="section">
    <h2>2. VITE_ å‰ç¼€å˜é‡</h2>
    <pre id="vite-vars"></pre>
  </div>
  
  <div class="section">
    <h2>3. TARO_APP_ å‰ç¼€å˜é‡</h2>
    <pre id="taro-vars"></pre>
  </div>
  
  <div class="section">
    <h2>4. æ‰£å­ API é…ç½®</h2>
    <pre id="coze-config"></pre>
  </div>

  <script type="module">
    // 1. æ˜¾ç¤ºæ‰€æœ‰ import.meta.env
    document.getElementById('import-meta-env').textContent = JSON.stringify(import.meta.env, null, 2);
    
    // 2. VITE_ å‰ç¼€å˜é‡
    const viteVars = {
      VITE_COZE_API_URL: import.meta.env.VITE_COZE_API_URL,
      VITE_COZE_API_TOKEN: import.meta.env.VITE_COZE_API_TOKEN ? 'å·²è®¾ç½® (' + import.meta.env.VITE_COZE_API_TOKEN.substring(0, 30) + '...)' : 'æœªè®¾ç½®'
    };
    document.getElementById('vite-vars').textContent = JSON.stringify(viteVars, null, 2);
    
    // 3. TARO_APP_ å‰ç¼€å˜é‡
    const taroVars = {
      TARO_APP_COZE_API_URL: import.meta.env.TARO_APP_COZE_API_URL,
      TARO_APP_COZE_API_TOKEN: import.meta.env.TARO_APP_COZE_API_TOKEN ? 'å·²è®¾ç½® (' + import.meta.env.TARO_APP_COZE_API_TOKEN.substring(0, 30) + '...)' : 'æœªè®¾ç½®'
    };
    document.getElementById('taro-vars').textContent = JSON.stringify(taroVars, null, 2);
    
    // 4. æ‰£å­ API é…ç½®
    const COZE_API_URL = import.meta.env.VITE_COZE_API_URL || import.meta.env.TARO_APP_COZE_API_URL || '';
    const COZE_API_TOKEN = import.meta.env.VITE_COZE_API_TOKEN || import.meta.env.TARO_APP_COZE_API_TOKEN || '';
    
    const cozeConfig = {
      URL: COZE_API_URL || 'âŒ æœªè®¾ç½®',
      TOKEN: COZE_API_TOKEN ? 'âœ… å·²è®¾ç½® (' + COZE_API_TOKEN.substring(0, 30) + '...)' : 'âŒ æœªè®¾ç½®',
      çŠ¶æ€: (COZE_API_URL && COZE_API_TOKEN) ? 'âœ… é…ç½®å®Œæ•´' : 'âŒ é…ç½®ç¼ºå¤±'
    };
    document.getElementById('coze-config').textContent = JSON.stringify(cozeConfig, null, 2);
    
    // æ·»åŠ æ ·å¼
    if (COZE_API_URL && COZE_API_TOKEN) {
      document.getElementById('coze-config').className = 'success';
    } else {
      document.getElementById('coze-config').className = 'error';
    }
  </script>
</body>
</html>
